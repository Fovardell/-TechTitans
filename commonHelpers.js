import{a as m,i as v}from"./assets/vendor-1c96f17f.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();m.defaults.baseURL="https://portfolio-js.b.goit.study/api";v.settings({position:"center",transitionIn:"bounceInLeft",transitionOut:"fadeOutLeft",timeout:3e3});const o=document.querySelector(".contacts-email"),f=document.querySelector(".form"),c=document.querySelector(".invalid-email"),u=document.querySelector(".invalid-text"),a=document.querySelector(".contacts-message"),p=document.querySelector(".modal-window"),L=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,y=document.querySelector(".modal-header"),g=document.querySelector(".modal-text"),h=function(){return L.test(o.value)},q=function(t){t.preventDefault();const r=t.target.user_email.value.trim(),n=t.target.user_message.value.trim();if(h()){if(n.length<10){u.classList.add("invalid");return}}else{o.classList.add("invalid"),c.classList.add("invalid");return}o.classList.remove("valid"),a.classList.remove("valid"),o.classList.remove("invalid"),c.classList.remove("invalid"),u.classList.remove("invalid"),m.post("/requests",{email:r,comment:n||"I`m interested in cooperation!"}).then(i=>{p.classList.remove("is-hidden"),y.innerHTML=`${i.data.title}`,g.innerHTML=`${i.data.message}`,f.reset()}).catch(i=>{v.error({title:i.code,message:i.message})})};a.addEventListener("input",t=>{if(t.target.value.trim().length<10){a.classList.remove("valid");return}a.classList.remove("invalid"),u.classList.remove("invalid"),a.classList.add("valid")});o.addEventListener("input",t=>{if(!L.test(t.target.value)){o.classList.remove("valid");return}o.classList.add("valid"),o.classList.remove("invalid"),c.classList.remove("invalid")});f.addEventListener("submit",q);const d=document.querySelector(".modal-window"),w=document.querySelector(".close");w.addEventListener("click",()=>{d.classList.add("is-hidden")});window.addEventListener("click",t=>{t.target===d&&d.classList.add("is-hidden")});window.addEventListener("keydown",t=>{t.key==="Escape"&&d.classList.add("is-hidden")});
//# sourceMappingURL=commonHelpers.js.map
